import{s as b,w as p,o as a,p as l,q as e,t as w,B as x,R as C}from"./index-4d01aef8.js";import{l as N,C as j}from"./index-99991966.js";import{U as f,F as m,A as B}from"./index-7a262570.js";import{P as E}from"./PageDesc-1c213407.js";import"./index-dacaf4f0.js";import"./RightOutlined-2053c92c.js";import"./dayjs.min-997e836a.js";const k=t=>{const{c:s}=N.parse(t.location.search.slice(1)),[g,u]=a.useState([]);a.useEffect(()=>{let n=t.data.map(o=>({categories:o.categories,_id:o._id})),c={};for(let o=0;o<n.length;o++){let d=n[o].categories;c[d]=c[d]+1||1}let i=[],y=Object.keys(c),L=Object.values(c),A=1;i=y.map((o,d)=>({count:L[d],name:o,id:A++})),u(i)},[t.data]);const h=r=>{t.history.push(`/rblog/category?c=${r}`)};return l("div",{className:`h-auto mb-5 overflow-hidden pb-3 bg-base-100 rounded-2xl mx-auto text-lg transition duration-500 ease-in-out  transform hover:translate-y-1 hover:scale-105
      lg:transition-none lg:hover:-translate-y-0 lg:hover:scale-100 lg:hover:ring-1 lg:mx-5
    `,children:[l("p",{className:"flex py-2 pl-2 border border-solid border-gray-300 border-t-0 border-l-0 border-r-0 border-b-1",style:{userSelect:"none"},children:[e("svg",{className:"icon w-7 h-7 pr-1",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"89866",children:e("path",{d:"M992 512c0-12-6-24-18-30l-108-60 108-60c12 0 18-12 18-30 0-12-6-24-18-30L530 68c-12-6-24-6-30 0L50 302c-12 6-18 18-18 30s6 24 18 30l108 60-108 60c-12 6-18 18-18 30s6 24 18 30l108 60-108 60c-12 0-18 12-18 30 0 12 6 24 18 30l444 234c6 0 12 6 18 6 6 0 12 0 18-6l444-234c12-6 18-18 18-30s-6-24-18-30l-108-60 108-60c12-6 18-18 18-30zM140 332L512 140 884 332 512 530 140 332z m744 360L512 884 140 692l90-48 264 138c6 0 12 6 18 6 6 0 12 0 18-6l264-138 90 48z m-372 18L140 512l90-48 264 138c6 0 12 6 18 6 6 0 12 0 18-6l264-138 90 48L512 710z",fill:"var(--bgcolor-social-default)","p-id":"89867"})}),"分类信息"]}),e("div",{className:"w-[calc(100%+10px)] h-96 overflow-auto ",children:g.map((r,n)=>l("p",{className:`flex justify-between  items-center${r.name===s?" h-8  m-3 px-3 text-base text-[var(--article-content-tags-bgcolor-hover-font)] bg-[var(--article-content-tags-bgcolor-hover)] hover:bg-[var(--article-content-tags-bgcolor-hover)] hover:text-[var(--article-content-tags-bgcolor-hover-font)] hover:transition hover:duration-500 rounded-lg cursor-pointer":" h-8  m-3 px-3  text-base  rounded-lg bg-base-100 hover:bg-[var(--article-content-tags-bgcolor-hover)] hover:text-[var(--article-content-tags-bgcolor-hover-font)] hover:transition hover:duration-500 cursor-pointer"}`,onClick:()=>h(r.name),children:[e("span",{children:r.name}),e("span",{children:r.count})]},n))})]})},S=t=>({BlogActions:w(x,t)}),v=b(null,S)(p(k)),T=t=>{const[s,g]=a.useState([]),[u,h]=a.useState(970),r=C.useRef();a.useEffect(()=>{r.current&&window.scroll({top:r.current.offsetTop-80||0,left:0,behavior:"smooth"})},[]),a.useEffect(()=>{t.BlogActions.asyncArticleAllListAction(1,1).then(c=>{let{data:i}=c.data;g(i)})},[t.BlogActions]),a.useEffect(()=>{window.addEventListener("resize",n)},[window.addEventListener]);let n=()=>{h(document.body.clientWidth)};return l("div",{className:"w-1200 mx-auto lg:w-full",ref:r,children:[e("div",{className:"mb-10",children:e(E,{title:"分类"})}),l("div",{className:"flex flex-row justify-between lg:flex-col lg:justify-start lg:w-full sm:w-full",children:[e("article",{className:"w-[calc(100%-320px)] lg:w-full lg:order-2 sm:w-full",children:e(j,{})}),l("aside",{className:"w-300 hidden lg:w-full lg:block lg:order-1 sm:w-full",children:[e(f,{data:s}),e(v,{data:s}),e(m.BackTop,{shape:"square"})]}),l("aside",{className:"w-300 lg:w-full lg:hidden sm:w-full",children:[e(f,{data:s}),e(B,{offsetTop:70,children:e(v,{data:s})}),e(m.BackTop,{shape:"square"})]})]})]})},z=t=>({BlogActions:w(x,t)}),M=b(null,z)(p(T));export{M as default};
