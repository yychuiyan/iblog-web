import{s as v,w,o as a,p as l,q as e,I as j,v as x,B as y,R as B,H as E}from"./index-d39fc7a0.js";import{l as L,C as S}from"./index-8fd6716d.js";import{U as f,A as T}from"./index-0515b595.js";import{P as k}from"./PageDesc-ab7824a4.js";import{F as m,V as p}from"./index-eb9e0a33.js";import"./index-9ccb86f5.js";import"./SoundOutlined-744ff33c.js";import"./dayjs.min-973058ea.js";import"./blur-66115fc6.js";const O=t=>{const{c:s}=L.parse(t.location.search.slice(1)),[g,u]=a.useState([]);a.useEffect(()=>{let n=t.data.map(r=>({categories:r.categories,_id:r._id})),c={};for(let r=0;r<n.length;r++){let d=n[r].categories;c[d]=c[d]+1||1}let i=[],A=Object.keys(c),N=Object.values(c),C=1;i=A.map((r,d)=>({count:N[d],name:r,id:C++})),u(i)},[t.data]);const h=o=>{t.history.push(`/category?c=${o}`)};return l("div",{className:`h-auto mb-5 overflow-hidden pb-3 bg-base-100 rounded-2xl mx-auto text-lg transition duration-500 ease-in-out  transform hover:translate-y-1 hover:scale-105
      lg:transition-none lg:hover:-translate-y-0 lg:hover:scale-100 lg:hover:ring-1 lg:mx-5
    `,style:{userSelect:"none"},children:[l("p",{className:"flex py-2 pl-2 border border-solid border-gray-300 border-t-0 border-l-0 border-r-0 border-b-1",style:{userSelect:"none"},children:[e(j,{iconName:"icon-grouping",className:"text-[28px] pr-1"}),"分类信息"]}),e("div",{className:"w-[calc(100%+10px)] h-96 overflow-auto ",children:g.map((o,n)=>l("p",{className:`flex justify-between  items-center${o.name===s?" h-8  m-3 px-3 text-base text-[var(--article-content-tags-bgcolor-hover-font)] bg-[var(--article-content-tags-bgcolor-hover)] hover:bg-[var(--article-content-tags-bgcolor-hover)] hover:text-[var(--article-content-tags-bgcolor-hover-font)] hover:transition hover:duration-500 rounded-lg cursor-pointer":" h-8  m-3 px-3  text-base  rounded-lg bg-base-100 hover:bg-[var(--article-content-tags-bgcolor-hover)] hover:text-[var(--article-content-tags-bgcolor-hover-font)] hover:transition hover:duration-500 cursor-pointer"}`,onClick:()=>h(o.name),children:[e("span",{children:o.name}),e("span",{children:o.count})]},n))})]})},P=t=>({BlogActions:x(y,t)}),b=v(null,P)(w(O)),R=t=>{const[s,g]=a.useState([]),[u,h]=a.useState(970),o=B.useRef();a.useEffect(()=>{o.current&&window.scroll({top:o.current.offsetTop-80||0,left:0,behavior:"smooth"})},[]),a.useEffect(()=>{t.BlogActions.asyncArticleAllListAction(1,1).then(c=>{let{data:i}=c.data;g(i)})},[t.BlogActions]),a.useEffect(()=>{window.addEventListener("resize",n)},[window.addEventListener]);let n=()=>{h(document.body.clientWidth)};return l("div",{className:"w-1200 mx-auto lg:w-full",ref:o,children:[e(E,{children:e("title",{children:"分类 | 夜雨炊烟"})}),e("div",{className:"mb-10",children:e(k,{title:"分类"})}),l("div",{className:"flex flex-row justify-between lg:flex-col lg:justify-start lg:w-full sm:w-full",children:[e("article",{className:"w-[calc(100%-320px)] lg:w-full lg:order-2 sm:w-full",children:e(S,{})}),l("aside",{className:"w-300 hidden lg:w-full lg:block lg:order-1 sm:w-full",children:[e(f,{data:s}),e(b,{data:s}),e(m.BackTop,{shape:"square",icon:e(p,{})})]}),l("aside",{className:"w-300 lg:w-full lg:hidden sm:w-full",children:[e(f,{data:s}),e(T,{offsetTop:70,children:e(b,{data:s})}),e(m.BackTop,{shape:"square",icon:e(p,{})})]})]})]})},$=t=>({BlogActions:x(y,t)}),G=v(null,$)(w(R));export{G as default};
