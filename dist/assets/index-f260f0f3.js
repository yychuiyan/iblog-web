import{c as v,w as p,r as a,j as c,a as e,b as w,B as x,R as C}from"./index-c724a8f6.js";import{l as N,C as B}from"./index-efa1fc82.js";import{U as f,F as m,A as S}from"./User-bd0c4e40.js";import{P as E}from"./PageDesc-dd0db434.js";import"./index-7d474de3.js";import"./RightOutlined-42a1dace.js";import"./dayjs.min-1386a06e.js";const L=t=>{const{c:s}=N.parse(t.location.search.slice(1)),[g,u]=a.useState([]);a.useState(1),a.useState(8),a.useEffect(()=>{let l=t.data.map(o=>({categories:o.categories,_id:o._id})),n={};for(let o=0;o<l.length;o++){let d=l[o].categories;n[d]=n[d]+1||1}let i=[],y=Object.keys(n),j=Object.values(n),A=1;i=y.map((o,d)=>({count:j[d],name:o,id:A++})),u(i)},[t.data]);const h=r=>{t.history.push(`/rblog/category?c=${r}`)};return c("div",{className:`h-auto mb-5 overflow-hidden pb-3 bg-base-100 rounded-2xl mx-auto text-lg transition duration-500 ease-in-out  transform hover:translate-y-1 hover:scale-105
      lg:transition-none lg:hover:-translate-y-0 lg:hover:scale-100 lg:hover:ring-1 lg:mx-5
    `,children:[e("p",{className:"py-2 pl-2 border border-solid border-gray-300 border-t-0 border-l-0 border-r-0 border-b-1",style:{userSelect:"none"},children:"分类信息"}),e("div",{className:"w-[calc(100%+10px)] h-96 overflow-auto ",children:g.map((r,l)=>c("p",{className:`flex justify-between  items-center${r.name===s?" h-8  m-3 px-3 text-base text-[var(--article-content-tags-bgcolor-hover-font)] bg-[var(--article-content-tags-bgcolor-hover)] hover:bg-[var(--article-content-tags-bgcolor-hover)] hover:text-[var(--article-content-tags-bgcolor-hover-font)] hover:transition hover:duration-500 rounded-lg cursor-pointer":" h-8  m-3 px-3  text-base  rounded-lg bg-base-100 hover:bg-[var(--article-content-tags-bgcolor-hover)] hover:text-[var(--article-content-tags-bgcolor-hover-font)] hover:transition hover:duration-500 cursor-pointer"}`,onClick:()=>h(r.name),children:[e("span",{children:r.name}),e("span",{children:r.count})]},l))})]})},k=t=>({BlogActions:w(x,t)}),b=v(null,k)(p(L)),T=t=>{const[s,g]=a.useState([]),[u,h]=a.useState(970),r=C.useRef();a.useEffect(()=>{r.current&&window.scroll({top:r.current.offsetTop-80||0,left:0,behavior:"smooth"})},[]),a.useEffect(()=>{t.BlogActions.asyncArticleAllListAction(1,1).then(n=>{let{data:i}=n.data;g(i)})},[t.BlogActions]),a.useEffect(()=>{window.addEventListener("resize",l)},[window.addEventListener]);let l=()=>{h(document.body.clientWidth)};return c("div",{className:"w-1200 mx-auto lg:w-full",ref:r,children:[e("div",{className:"mb-10",children:e(E,{title:"分类"})}),c("div",{className:"flex flex-row justify-between lg:flex-col lg:justify-start lg:w-full sm:w-full",children:[e("article",{className:"w-[calc(100%-320px)] lg:w-full lg:order-2 sm:w-full",children:e(B,{})}),c("aside",{className:"w-300 hidden lg:w-full lg:block lg:order-1 sm:w-full",children:[e(f,{data:s}),e(b,{data:s}),e(m.BackTop,{shape:"square"})]}),c("aside",{className:"w-300 lg:w-full lg:hidden sm:w-full",children:[e(f,{data:s}),e(S,{offsetTop:70,children:e(b,{data:s})}),e(m.BackTop,{shape:"square"})]})]})]})},P=t=>({BlogActions:w(x,t)}),_=v(null,P)(p(T));export{_ as default};
