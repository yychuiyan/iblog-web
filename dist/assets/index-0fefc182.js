import{c as p,w,r as s,j as i,a as e,b as v,B as x,R as C}from"./index-187d4aa4.js";import{l as N,C as B}from"./index-b79f47c5.js";import{U as f,F as m,A as S}from"./User-c344595d.js";import{P as E}from"./PageDesc-017e3c70.js";import"./index-9d27c83d.js";import"./RightOutlined-f7fad64a.js";import"./dayjs.min-6c2295a8.js";const L=t=>{const{c:o}=N.parse(t.location.search.slice(1)),[u,g]=s.useState([]);s.useState(1),s.useState(8),s.useEffect(()=>{let l=t.data.map(r=>({categories:r.categories,_id:r._id})),n={};for(let r=0;r<l.length;r++){let d=l[r].categories;n[d]=n[d]+1||1}let c=[],y=Object.keys(n),j=Object.values(n),A=1;c=y.map((r,d)=>({count:j[d],name:r,id:A++})),g(c)},[t.data]);const h=a=>{t.history.push(`/rblog/category?c=${a}`)};return i("div",{className:`h-auto mb-5 overflow-hidden pb-3 bg-base-100 rounded-2xl mx-auto text-lg transition duration-500 ease-in-out  transform hover:translate-y-1 hover:scale-105
      lg:transition-none lg:hover:-translate-y-0 lg:hover:scale-100 lg:hover:ring-1 lg:mx-5
    `,children:[e("p",{className:"py-2 pl-2 border border-solid border-gray-300 border-t-0 border-l-0 border-r-0 border-b-1",style:{userSelect:"none"},children:"分类信息"}),e("div",{className:" w-[310px] h-96 overflow-auto",children:u.map((a,l)=>i("p",{className:`flex justify-between items-center${a.name===o?" h-8  m-3 px-3 text-base bg-base-300 hover:bg-base-300 hover:transition hover:duration-500 rounded-lg cursor-pointer":" h-8  m-3 px-3  text-base  rounded-lg bg-base-100 hover:bg-base-300 hover:transition hover:duration-500 cursor-pointer"}`,onClick:()=>h(a.name),children:[e("span",{children:a.name}),e("span",{children:a.count})]},l))})]})},k=t=>({BlogActions:v(x,t)}),b=p(null,k)(w(L)),T=t=>{const[o,u]=s.useState([]),[g,h]=s.useState(970),a=C.useRef();s.useEffect(()=>{a.current&&window.scroll({top:a.current.offsetTop-80||0,left:0,behavior:"smooth"})},[]),s.useEffect(()=>{t.BlogActions.asyncArticleAllListAction(1,1).then(n=>{let{data:c}=n.data;u(c)})},[t.BlogActions]),s.useEffect(()=>{window.addEventListener("resize",l)},[window.addEventListener]);let l=()=>{h(document.body.clientWidth)};return i("div",{className:"w-1200 mx-auto lg:w-full",ref:a,children:[e("div",{className:"mb-10",children:e(E,{title:"分类"})}),i("div",{className:"flex flex-row justify-between lg:flex-col lg:justify-start lg:w-full sm:w-full",children:[e("article",{className:"w-[calc(100%-320px)] lg:w-full lg:order-2 sm:w-full",children:e(B,{})}),i("aside",{className:"w-300 hidden lg:w-full lg:block lg:order-1 sm:w-full",children:[e(f,{data:o}),e(b,{data:o}),e(m.BackTop,{shape:"square"})]}),i("aside",{className:"w-300 lg:w-full lg:hidden sm:w-full",children:[e(f,{data:o}),e(S,{offsetTop:70,children:e(b,{data:o})}),e(m.BackTop,{shape:"square"})]})]})]})},P=t=>({BlogActions:v(x,t)}),_=p(null,P)(w(T));export{_ as default};
