import{p as a,t as h,v as e,aP as y}from"./index-0cdd8813.js";import{R as v,r as C,a as x,S as k,o as M}from"./index-bf65302d.js";const P=s=>{const[d,n]=a.useState("复制"),[r,l]=a.useState();return a.useEffect(()=>{const{children:g}=s,o=g.map(p=>p.props.className).join("").slice(9);l(o)},[s]),h("div",{className:"absolute top-1  right-1 px-1 rounded-md flex items-center w-auto h-5 text-sm shadow-xl",children:[e("span",{className:"text-base-300 pr-2",style:{userSelect:"none"},children:r}),e("span",{onClick:()=>{navigator.clipboard.writeText(s.children[0].props.children[0]),n("复制成功!"),setTimeout(()=>{n("复制")},2e3)},style:{color:"var(--color-copy-default)"},className:" cursor-pointer",children:d})]})},N=s=>{const d=({children:t})=>h("pre",{className:"relative mb-5",children:[e(P,{children:t}),t]}),[n,r]=a.useState(!1),[l,f]=a.useState(""),[g,o]=a.useState(!1);a.useEffect(()=>{({pingtai:/(Win32|Win16|WinCE|Mac68K|MacIntel|MacPPC|Linux mips64)/i.test(navigator.platform)}).pingtai?o(!1):o(!0)},[]);const p=({node:t,...u})=>{var i;if(t.type==="element"&&t.tagName==="img"){const c=(i=t.properties)==null?void 0:i.src,m=()=>{r(!0),f(c)},w=()=>{r(!1)};return h("div",{className:"image_priview",children:[e("img",{...u,src:c,alt:"Markdown 图片",onClick:m}),g?e(y,{open:n,onCancel:w,footer:null,width:"auto",children:e("img",{alt:"预览",style:{width:"100%",height:"100%",padding:"0",margin:"0"},src:l})}):e(y,{open:n,onCancel:w,footer:null,width:"calc(100% - 25%)",children:e("img",{alt:"预览",style:{width:"100%",height:"100%",padding:"0",margin:"0"},src:l})})]})}return null};return e("div",{children:e(v,{className:"markdown-body ",children:s.content,remarkPlugins:[[C,{singleTilde:!1}]],rehypePlugins:[x],components:{pre:d,code({inline:t,className:u,children:i,...c}){const m=/language-(\w+)/.exec(u||"");return!t&&m?e(k,{children:String(i).replace(/\n$/,""),style:M,language:m[1],PreTag:"div",...c}):e("code",{children:i})},img:p}})})};export{N as M};
