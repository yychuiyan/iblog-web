import{s as b,w,o as a,p as l,q as e,v as x,B as y,R as N}from"./index-217b3e77.js";import{l as j,C as B}from"./index-ca0a1957.js";import{U as f,A as E}from"./index-4b237b12.js";import{P as S}from"./PageDesc-4464aad9.js";import{F as m,V as v}from"./index-f320e424.js";import"./index-cfe9cee6.js";import"./SoundOutlined-6a164829.js";import"./dayjs.min-e42e369b.js";import"./blur-c7093be7.js";const T=t=>{const{c:s}=j.parse(t.location.search.slice(1)),[g,u]=a.useState([]);a.useEffect(()=>{let n=t.data.map(r=>({categories:r.categories,_id:r._id})),c={};for(let r=0;r<n.length;r++){let d=n[r].categories;c[d]=c[d]+1||1}let i=[],L=Object.keys(c),A=Object.values(c),C=1;i=L.map((r,d)=>({count:A[d],name:r,id:C++})),u(i)},[t.data]);const h=o=>{t.history.push(`/rblog/category?c=${o}`)};return l("div",{className:`h-auto mb-5 overflow-hidden pb-3 bg-base-100 rounded-2xl mx-auto text-lg transition duration-500 ease-in-out  transform hover:translate-y-1 hover:scale-105
      lg:transition-none lg:hover:-translate-y-0 lg:hover:scale-100 lg:hover:ring-1 lg:mx-5
    `,style:{userSelect:"none"},children:[l("p",{className:"flex py-2 pl-2 border border-solid border-gray-300 border-t-0 border-l-0 border-r-0 border-b-1",style:{userSelect:"none"},children:[e("svg",{className:"icon w-7 h-7 pr-1",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"89866",children:e("path",{d:"M992 512c0-12-6-24-18-30l-108-60 108-60c12 0 18-12 18-30 0-12-6-24-18-30L530 68c-12-6-24-6-30 0L50 302c-12 6-18 18-18 30s6 24 18 30l108 60-108 60c-12 6-18 18-18 30s6 24 18 30l108 60-108 60c-12 0-18 12-18 30 0 12 6 24 18 30l444 234c6 0 12 6 18 6 6 0 12 0 18-6l444-234c12-6 18-18 18-30s-6-24-18-30l-108-60 108-60c12-6 18-18 18-30zM140 332L512 140 884 332 512 530 140 332z m744 360L512 884 140 692l90-48 264 138c6 0 12 6 18 6 6 0 12 0 18-6l264-138 90 48z m-372 18L140 512l90-48 264 138c6 0 12 6 18 6 6 0 12 0 18-6l264-138 90 48L512 710z",fill:"var(--bgcolor-social-default)","p-id":"89867"})}),"分类信息"]}),e("div",{className:"w-[calc(100%+10px)] h-96 overflow-auto ",children:g.map((o,n)=>l("p",{className:`flex justify-between  items-center${o.name===s?" h-8  m-3 px-3 text-base text-[var(--article-content-tags-bgcolor-hover-font)] bg-[var(--article-content-tags-bgcolor-hover)] hover:bg-[var(--article-content-tags-bgcolor-hover)] hover:text-[var(--article-content-tags-bgcolor-hover-font)] hover:transition hover:duration-500 rounded-lg cursor-pointer":" h-8  m-3 px-3  text-base  rounded-lg bg-base-100 hover:bg-[var(--article-content-tags-bgcolor-hover)] hover:text-[var(--article-content-tags-bgcolor-hover-font)] hover:transition hover:duration-500 cursor-pointer"}`,onClick:()=>h(o.name),children:[e("span",{children:o.name}),e("span",{children:o.count})]},n))})]})},k=t=>({BlogActions:x(y,t)}),p=b(null,k)(w(T)),z=t=>{const[s,g]=a.useState([]),[u,h]=a.useState(970),o=N.useRef();a.useEffect(()=>{o.current&&window.scroll({top:o.current.offsetTop-80||0,left:0,behavior:"smooth"})},[]),a.useEffect(()=>{t.BlogActions.asyncArticleAllListAction(1,1).then(c=>{let{data:i}=c.data;g(i)})},[t.BlogActions]),a.useEffect(()=>{window.addEventListener("resize",n)},[window.addEventListener]);let n=()=>{h(document.body.clientWidth)};return l("div",{className:"w-1200 mx-auto lg:w-full",ref:o,children:[e("div",{className:"mb-10",children:e(S,{title:"分类"})}),l("div",{className:"flex flex-row justify-between lg:flex-col lg:justify-start lg:w-full sm:w-full",children:[e("article",{className:"w-[calc(100%-320px)] lg:w-full lg:order-2 sm:w-full",children:e(B,{})}),l("aside",{className:"w-300 hidden lg:w-full lg:block lg:order-1 sm:w-full",children:[e(f,{data:s}),e(p,{data:s}),e(m.BackTop,{shape:"square",icon:e(v,{})})]}),l("aside",{className:"w-300 lg:w-full lg:hidden sm:w-full",children:[e(f,{data:s}),e(E,{offsetTop:70,children:e(p,{data:s})}),e(m.BackTop,{shape:"square",icon:e(v,{})})]})]})]})},O=t=>({BlogActions:x(y,t)}),_=b(null,O)(w(z));export{_ as default};
